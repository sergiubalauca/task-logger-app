<ion-header class="ion-no-border"> </ion-header>

<ion-content class="ion-padding">
    <form [formGroup]="form">
        <ion-label class="title" color="dark"
            >{{ 'register-page.button' | translate }}</ion-label
        >
        <div>
            <ion-item class="ion-no-padding">
                <ion-input
                    formControlName="email"
                    type="text"
                    [label]="labels.email"
                    labelPlacement="floating"
                >
                </ion-input>
                <ion-text
                    slot="end"
                    class="showHide"
                    (click)="togglePassword()"
                ></ion-text>
            </ion-item>
            <div class="validation-errors">
                <ng-container
                    *ngFor="let validation of formValidationMessages.email"
                >
                    <div
                        class="error-message"
                        *ngIf="form.get('email').hasError(validation.type) && (form.get('email').dirty)"
                    >
                        {{ validation.message }}
                    </div>
                </ng-container>
            </div>
        </div>
        <div>
            <ion-item class="ion-no-padding">
                <ion-label position="stacked"
                    >{{ 'login-page.password' | translate}}</ion-label
                >
                <div class="toggle-pass">
                    <ion-input
                        #password
                        formControlName="password"
                        type="text"
                        [type]="showPassword ? 'text' : 'password'"
                        labelPlacement="floating"
                        clearOnEdit="false"
                    >
                    </ion-input>

                    <ion-text *ngIf="password.value" (click)="togglePassword()"
                        >{{togglePassButtonLabel}}</ion-text
                    >
                </div>
            </ion-item>
            <div class="validation-errors">
                <ng-container
                    *ngFor="let validation of formValidationMessages.password"
                >
                    <div
                        class="error-message"
                        *ngIf="form.get('password').hasError(validation.type) && (form.get('password').dirty)"
                    >
                        {{ validation.message }}
                    </div>
                </ng-container>
            </div>
        </div>

        <ion-button (click)="register()" expand="block" [disabled]="!form.valid"
            >{{'register-page.button' | translate }}</ion-button
        >
        <ion-button (click)="goBack()" expand="block"
            >{{'register-page.go-to-login' | translate }}</ion-button
        >

        <!-- checkbox for terms and conditions with external link to page -->
        <ion-item lines="none">
            <ion-checkbox
                formControlName="termsAndConditions"
                style="margin-right: 10px"
            ></ion-checkbox>
            <ion-label (click)="openTaCSite()">
                I agree to the <a>Terms and Conditions</a>
            </ion-label>
        </ion-item>
    </form>
</ion-content>
